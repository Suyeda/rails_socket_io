<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Rails Socket.io Project</title>

  <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  <!--THE CDN TO RETRIEVE ALL OF THE NECCESSARY CODE TO CONNECT SOCKETS TO THE CLIENT SIDE -->
  <script src="https://cdn.socket.io/socket.io-1.3.7.js"></script>
  <script>
  $(document).ready(function(){

			// MAKES THE CONNECTION TO THE NODE SERVER.. NOT THE NGINX SERVER
   var socket = io.connect( 'http://'+window.location.hostname+':5000' );

			socket.on('hello_from_server', function(data){
				$('#socket_message').append("<b>"+data.message+"</b>");
				$('#socket_id').append("<b>Your socket id is</b>: " + data.socket_id);
			})


  })
  </script>

 </head>
 <body>
  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Rails Socket.io App</a>
      </div>
    </div><!-- /.container-fluid -->
  </nav>

  <div class='container text-center'>
   <h1><u>A Message From The Server Should Appear Below This</u></h1>
   <p id='socket_message'><b></b></p>
   <p id='socket_id'></p>
  </div>
 </body>
</html>
